<head>
  <title>
    teetor'n
  </title>

  <meta name="description" content="The blog of one Nathan Teetor.">

  <!-- bootstrap -->
  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
        crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
          integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
          crossorigin="anonymous">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
          integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
          crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
          integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
          crossorigin="anonymous">
  </script>

  <!-- google fonts -->
  <link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro|Source+Code+Pro:200,300,500,700" rel="stylesheet">

  <!-- custom css -->
  <link href="/assets/main.css" rel="stylesheet">

</head>


<body class="container-fluid">
  <div class="row">
  <div class="col col-sm-8 mt-4 mx-auto">

    <h2 class="mb-3 border-bottom border-dark" id="zeallot">zeallot</h2>

<p class="fancy">You made the jump from Python to R, you’re ready to hit the code running, but
you’re missing a treasured Python feature, multiple assignment. Time to try
zeallot.</p>

<p>The zeallot R package provides an operator for unpacking, destructuring, and
multiple assignment.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">zeallot</span><span class="p">)</span><span class="w">
</span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>In this first example the variables <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code> are assigned in the calling
environment and assigned, respectively, the values 1 and 2. Due to R’s syntax
constraints the usage of <code class="highlighter-rouge">c()</code> on the left-hand side of the expression is
necessary.</p>

<p>The left-hand side of an assignment expression includes the variables listed
left of the <code class="highlighter-rouge">%&lt;-%</code> operator. The right-hand side of an assignment expression
includes the values listed right of the <code class="highlighter-rouge">%&lt;-%</code> operator.</p>

<p>Left-hand side values are evaluated prior to assignment making the following
possible.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>You may often find your right-hand side has more than 2 values.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Or you may want to skip a value or many values. You can skip a value by position
with <code class="highlighter-rouge">.</code> or skip many values with <code class="highlighter-rouge">...</code>.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">.</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">3030</span><span class="p">)</span><span class="w">
</span><span class="nf">c</span><span class="p">(</span><span class="n">...</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="w">
</span></code></pre></div></div>

<p>After running the first line, <code class="highlighter-rouge">a</code> is assigned 1 and the value 3030 is
ignored. After running the second line, the values 1 through 9 are ignored and
<code class="highlighter-rouge">z</code> is assigned 10.</p>

<p>More often you will be assigning the result of a function call.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">simple</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="n">simple</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p>Certain functions do not always return the same number of values. <code class="highlighter-rouge">head()</code> or
<code class="highlighter-rouge">tail()</code> for example may return a fewer number of items than requested.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nums</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="n">tail</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c1"># whoops!</span><span class="w">
</span></code></pre></div></div>

<p>If you run the above example you will get an error. <code class="highlighter-rouge">nums</code> is only a single
value, so despite asking <code class="highlighter-rouge">tail()</code> for 2 values we only get the 1. In situations
like this you can make use of a default value.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nums</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="n">tail</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Now there is no error, <code class="highlighter-rouge">b</code> is assigned -1, the default value.</p>

<p>Let’s deviate back to skipping values and now collecting values. We saw above
<code class="highlighter-rouge">.</code> and <code class="highlighter-rouge">...</code> may be used to skip values. You can also use <code class="highlighter-rouge">...</code> to collect
values. Instead of using stand-alone <code class="highlighter-rouge">...</code>, use the triple dots as a variable
name prefix.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">...others</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nb">LETTERS</span><span class="w">
</span></code></pre></div></div>

<p>After running the above example a variable <code class="highlighter-rouge">others</code> is assigned a vector of
letters “B” through “Z”. <code class="highlighter-rouge">first</code> is assigned “A”. Maybe you want the final value
as well.</p>

<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">c</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">...others</span><span class="p">,</span><span class="w"> </span><span class="n">final</span><span class="p">)</span><span class="w"> </span><span class="o">%&lt;-%</span><span class="w"> </span><span class="nb">LETTERS</span><span class="w">
</span></code></pre></div></div>

<p>Now <code class="highlighter-rouge">others</code> is a vector of values “B” through “Y” and <code class="highlighter-rouge">final</code> is assigned “Z”.
When using collector variables you may specify any number of other variables,
the collector variable will absorb only the excess values.</p>

<p>And that’s about it! If you are coming from a programming language which natively
supports multiple assignment and zeallot is missing a beloved feature please let
me know. I am always looking to make the package better. In the meantime, happy
assigning.</p>


  </div>
</div>

</body>
